<!DOCTYPE html>
<html lang="es">
<head>
    <title> HTML </title>
</head>
<style type="text/css">
    table, tr, td {
        border: 1px solid rgb(202, 191, 29);
    }
</style>
<body>
   <div style="display: flex; justify-content: center; align-items: center;">
        <center>
        <table>
            <tr>
                <td colspan="2" style="background-color: rgb(21, 157, 161);text-align: center;"><h2>Tablas de Elementos de HTML</h2></td>
            </tr>
            <tr>
                <td>
                    <input id="captura"  type="text"  placeholder="Escribe tu nombre">
                    <input id="captura1" type="text" placeholder="Escribe tu apellido Paterno">
                    <input id="captura2" type="text" placeholder="Escribe tu apellido Materno" onkeypress="if (event.keyCode === 13) { agregarFila(); }">
                </td>
                <td>
                    <input type="button" value="Agregar" onclick="agregarFila()">
                </td>
            </tr>
        </table>
        </center>
    </div>
    <br>
    <br>
    <center>
        <table id="tabla">
            <tr>
                <td style="background-color: rgb(187, 118, 118); text-align: center;">Consecutivo</td>
                <td style="background-color: rgb(164, 143, 212); text-align: center;">Nombre Alumno</td>
                <td style="background-color: rgb(229, 139, 128); text-align: center;">Paterno</td>
                <td style="background-color: rgb(235, 115, 189); text-align: center;">Materno</td>
                <td style="background-color: rgb(190, 112, 38); text-align: center;">Eliminar</td>
            </tr>
        </table>
    </center>   
    <script>
        let contador = 1;

        function agregarFila() {
            let nombre = document.getElementById("captura").value.trim();
            let Paterno = document.getElementById("captura1").value.trim();
            let Materno = document.getElementById("captura2").value.trim();
            
            if (nombre === "" || Paterno === "" || Materno === "") {
                alert("llena todo nazi.");
                return;
            }

            var tabla = document.getElementById("tabla");
            var nuevaFila = tabla.insertRow(-1);
            var celda0 = nuevaFila.insertCell(0);
            var celda1 = nuevaFila.insertCell(1);
            var celda2 = nuevaFila.insertCell(2);
            var celda3 = nuevaFila.insertCell(3);
            var celda4 = nuevaFila.insertCell(4);

            celda0.textContent = contador++;
            celda1.textContent = nombre;
            celda2.textContent = Paterno;
            celda3.textContent = Materno;
            
            var botonEliminar = document.createElement("button");
            botonEliminar.textContent = "Eliminar";
            botonEliminar.onclick = function() {
                this.parentNode.parentNode.remove();
                actualizarContadores();
            };

            celda4.appendChild(botonEliminar);

            // Reiniciamos el campo de entrada
            document.getElementById("captura").value = "";
            document.getElementById("captura1").value = "";
            document.getElementById("captura2").value = "";
            document.getElementById("captura").focus();
        }

        function actualizarContadores() {
            const filas = document.querySelectorAll("#tabla tr:not(:first-child)");
            contador = 1;
            filas.forEach(fila => {
                fila.cells[0].textContent = contador++;
            });
        }

        window.onbeforeunload = function(event) {
            return "Â¿estas muy seguro XD.";
        }
        
    </script>
</body>
</html>
